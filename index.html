<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>每日一签</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#F3F4F6',
                        accent: '#10B981',
                        dark: '#1F2937',
                        light: '#FFFFFF',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Georgia', 'Cambria', 'serif'],
                    },
                    screens: {
                        'phone': '375px',
                    }
                },
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .phone-frame {
                width: 375px;
                height: 812px;
                border-radius: 40px;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
                overflow: hidden;
                position: relative;
                margin: 0 auto;
            }
            .status-bar {
                height: 44px;
                background-color: #FFFFFF;
                position: relative;
                z-index: 100;
            }
            .nav-bar {
                height: 83px;
                background-color: #FFFFFF;
                border-top: 1px solid #E5E7EB;
                position: relative;
                z-index: 100;
            }
            .page {
                height: calc(100% - 127px);
                overflow-y: auto;
                position: relative;
            }
            .hide-scrollbar::-webkit-scrollbar {
                display: none;
            }
            .hide-scrollbar {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .animate-slide-in {
                animation: slideIn 0.3s ease-out forwards;
            }
            .animate-slide-out {
                animation: slideOut 0.3s ease-in forwards;
            }
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
            /* 按钮交互效果 */
            .btn-hover {
                transition: all 0.2s ease;
            }
            .btn-hover:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            }
            .btn-hover:active {
                transform: translateY(0);
                box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            }
            /* 卡片动画效果 */
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-4px);
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            }
            /* 淡入动画 */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }
            .animate-fade-in {
                animation: fadeIn 0.5s ease-in forwards;
            }
            /* 弹性动画 */
            @keyframes bounce {
                0%, 100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-10px);
                }
            }
            .animate-bounce {
                animation: bounce 0.5s ease-in-out;
            }
            /* 脉冲动画 */
            @keyframes pulse {
                0%, 100% {
                    opacity: 1;
                }
                50% {
                    opacity: 0.5;
                }
            }
            .animate-pulse {
                animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }
            /* 旋转动画 */
            @keyframes spin {
                from {
                    transform: rotate(0deg);
                }
                to {
                    transform: rotate(360deg);
                }
            }
            .animate-spin {
                animation: spin 1s linear infinite;
            }
            /* 书签内容展开样式 */
            .bookmark-content {
                max-height: 3.5rem; /* 初始高度，约2行 */
                transition: max-height 0.3s ease;
            }
            .bookmark-content.expanded {
                max-height: 20rem; /* 展开后的最大高度 */
            }
            /* 书签操作按钮样式 */
            .bookmark-actions {
                width: 100%;
            }
            .action-btn {
                transition: all 0.2s ease;
            }
            .action-btn:hover {
                background-color: #f3f4f6;
                transform: translateY(-1px);
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            .action-btn:active {
                transform: translateY(0);
            }
        }
    </style>
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/style1.css" id="current-style">
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
    <!-- 主内容区 -->
    <div class="flex-1 overflow-y-auto hide-scrollbar" style="max-height: calc(100vh - 80px); padding-bottom: 20px;">
            <!-- 首页 -->
            <div id="home-page" class="page-content">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h1 class="text-2xl font-bold">每日一签</h1>
                    </div>

                    <!-- 搜索栏 -->
                    <div id="search-bar" class="mb-4">
                        <div class="relative flex items-center space-x-2 w-full">
                            <input type="text" id="search-input" placeholder="搜索书签、作者、标签..."
                                class="flex-1 min-w-0 px-4 py-2 border border-gray-300 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-primary">
                            <button id="search-btn" class="search-btn whitespace-nowrap flex-shrink-0">
                                搜索
                            </button>
                            <button id="reset-filters-btn" class="btn-secondary whitespace-nowrap flex-shrink-0">
                                重置
                            </button>
                        </div>
                    </div>
                    
                    <!-- 筛选下拉菜单 -->
                    <div class="mb-4">
                        <div class="flex space-x-2">
                            <div class="flex-1">
                                <select id="filter-tag" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary">
                                    <option value="">全部标签</option>
                                </select>
                            </div>
                            <div class="flex-1">
                                <select id="filter-title" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary">
                                    <option value="">全部书名</option>
                                </select>
                            </div>
                            <div class="flex-1">
                                <select id="filter-author" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary">
                                    <option value="">全部作者</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 书签列表 -->
                    <div id="bookmark-list" class="space-y-4">
                        <!-- 书签项将通过JavaScript动态生成 -->
                        <div class="bookmark-item p-4 bg-gray-50 rounded-lg shadow-sm card-hover">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-semibold">人类简史</h3>
                                <span class="text-xs text-gray-500">2026-01-31</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-3 line-clamp-2">
                                正是因为大规模的人类合作是以虚构的故事为基础，只要改变所讲的故事，就能改变人类合作的方式。
                            </p>
                            <div class="flex justify-between items-center">
                                <div class="flex space-x-1">
                                    <span class="text-xs px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full">读书笔记</span>
                                </div>
                                <button class="text-gray-400">
                                    <i class="fa fa-ellipsis-v"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="bookmark-item p-4 bg-gray-50 rounded-lg shadow-sm card-hover">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-semibold">小王子</h3>
                                <span class="text-xs text-gray-500">2026-01-30</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-3 line-clamp-2">
                                真正重要的东西，用眼睛是看不见的，只有用心才能看见。
                            </p>
                            <div class="flex justify-between items-center">
                                <div class="flex space-x-1">
                                    <span class="text-xs px-2 py-0.5 bg-purple-100 text-purple-800 rounded-full">名言</span>
                                </div>
                                <button class="text-gray-400">
                                    <i class="fa fa-ellipsis-v"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 底部空白区域 -->
                <div class="h-24 bg-gray-100"></div>
            </div>
            
            <!-- 创建页 -->
            <div id="create-page" class="page-content hidden">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h1 class="text-2xl font-bold">创建书签</h1>
                    </div>
                    
                    <!-- 图片上传区域 -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">上传图片</label>
                        <div id="image-upload-area" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center bg-gray-50 flex items-center justify-center">
                            <input type="file" id="image-input" accept="image/*" class="hidden">
                            <button id="upload-btn" class="btn-ghost flex flex-col items-center justify-center w-full">
                                <i class="fa fa-camera text-4xl text-gray-400 mb-2"></i>
                                <span class="text-sm text-gray-500">点击拍照或上传图片</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- 图片预览区域 -->
                    <div id="image-preview" class="mb-6 hidden">
                        <div class="relative">
                            <img id="preview-img" src="" alt="预览" class="w-full rounded-lg transition-transform duration-300">
                            <div id="crop-area" class="absolute border-2 border-dashed border-primary rounded cursor-move">
                                <!-- 调整手柄会通过JavaScript添加 -->
                            </div>
                            <button id="reselect-img" class="btn-icon absolute top-2 right-2 shadow-md">
                                <i class="fa fa-times"></i>
                            </button>
                            <div id="rotation-indicator" class="absolute top-2 left-2 bg-white rounded-full p-2 shadow-md text-gray-600 text-xs font-medium">
                                0°
                            </div>
                        </div>
                        <div class="flex justify-between mt-2">
                            <button id="crop-btn" class="btn-primary text-sm">
                                确认区域
                            </button>
                            <button id="rotate-btn" class="btn-secondary text-sm">
                                <i class="fa fa-rotate-right mr-1"></i> 旋转
                            </button>
                        </div>
                    </div>
                    
                    <!-- 书签信息表单 -->
                    <div id="bookmark-form" class="mb-6">
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">书名 <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="text" id="book-title" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary pr-10" value="书名">
                                <button id="book-title-dropdown-btn" class="dropdown-btn absolute right-0 top-0 h-full px-3 flex items-center justify-center">
                                    <i class="fa fa-chevron-down"></i>
                                </button>
                                <div id="book-title-dropdown" class="absolute left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-20 hidden max-h-40 overflow-y-auto">
                                    <!-- 书名选项将通过JavaScript加载 -->
                                </div>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">作者 <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="text" id="book-author" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary pr-10" value="作者">
                                <button id="book-author-dropdown-btn" class="dropdown-btn absolute right-0 top-0 h-full px-3 flex items-center justify-center">
                                    <i class="fa fa-chevron-down"></i>
                                </button>
                                <div id="book-author-dropdown" class="absolute left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-20 hidden max-h-40 overflow-y-auto">
                                    <!-- 作者选项将通过JavaScript加载 -->
                                </div>
                            </div>
                        </div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">内容 <span class="text-red-500">*</span></label>
                            <textarea id="bookmark-content" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary" rows="4" placeholder="请输入书签内容"></textarea>
                            <div class="flex gap-2 mt-2">
                                <button id="convert-punctuation-btn" class="btn-secondary text-sm">
                                    标点转换
                                </button>
                                <button id="remove-formatting-btn" class="btn-secondary text-sm">
                                    取消分段
                                </button>
                                <button id="check-duplicate-btn" class="btn-secondary text-sm">
                                    内容查重
                                </button>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">备注</label>
                            <textarea id="bookmark-note" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary" rows="2" placeholder="请输入备注（可选）"></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">标签 <span class="text-red-500">*</span></label>
                            <div id="tag-input-area" class="flex flex-wrap gap-2 mb-2">
                                <!-- 已选标签 -->
                            </div>
                            <div class="flex gap-2">
                                <div class="flex-1 relative">
                                    <input type="text" id="tag-input" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary pr-10" placeholder="输入或选择标签">
                                    <button id="tag-dropdown-btn" class="dropdown-btn absolute right-0 top-0 h-full px-3 flex items-center justify-center">
                                        <i class="fa fa-chevron-down"></i>
                                    </button>
                                    <div id="tag-dropdown" class="absolute left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-20 hidden max-h-40 overflow-y-auto">
                                        <!-- 标签选项将通过JavaScript加载 -->
                                    </div>
                                </div>
                                <button id="add-tag-btn" class="btn-primary w-1/4 text-sm flex items-center justify-center">
                                    <i class="fa fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 保存按钮 -->
                    <button id="save-bookmark" class="btn-primary w-full py-3 font-medium">
                        保存书签
                    </button>
                </div>
                <!-- 底部空白区域 -->
                <div class="h-24 bg-gray-100"></div>
            </div>
            
            <!-- 详情页 -->
            <div id="detail-page" class="page-content hidden">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <button id="back-from-detail" class="btn-icon">
                                <i class="fa fa-arrow-left"></i>
                            </button>
                            <h1 class="text-2xl font-bold ml-2">书签详情</h1>
                        </div>
                    </div>
                    
                    <!-- 书签预览 -->
                    <div id="bookmark-preview" class="mb-6 p-6 bg-gray-50 rounded-lg shadow-sm">
                        <h2 id="detail-title" class="text-lg font-semibold mb-2">人类简史</h2>
                        <p id="detail-author" class="text-sm text-gray-500 mb-4">尤瓦尔·赫拉利</p>
                        <p id="detail-content" class="text-sm text-gray-700 mb-4 leading-relaxed">
                            正是因为大规模的人类合作是以虚构的故事为基础，只要改变所讲的故事，就能改变人类合作的方式。
                        </p>
                        <div class="flex justify-between items-center text-xs text-gray-500">
                            <span id="detail-page">第 123 页</span>
                            <span id="detail-date">2026-01-31</span>
                        </div>
                    </div>
                    
                    <!-- 操作按钮 -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <button class="action-btn flex flex-col items-center justify-center p-4">
                            <i class="fa fa-edit text-gray-500 mb-1"></i>
                            <span class="text-xs text-gray-500">编辑</span>
                        </button>
                        <button class="action-btn flex flex-col items-center justify-center p-4">
                            <i class="fa fa-trash text-gray-500 mb-1"></i>
                            <span class="text-xs text-gray-500">删除</span>
                        </button>
                    </div>
                    
                    <!-- 标签信息 -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-700 mb-2">标签</h3>
                        <div id="detail-tags" class="flex flex-wrap gap-2">
                            <span class="text-xs px-3 py-1 bg-blue-100 text-blue-800 rounded-full">读书笔记</span>
                        </div>
                    </div>
                    
                    <!-- 备注信息 -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-700 mb-2">备注</h3>
                        <p id="detail-note" class="text-sm text-gray-600 bg-gray-50 p-3 rounded-lg">
                            这段话说得很有道理，人类的合作确实建立在共同的信念之上。
                        </p>
                    </div>
                </div>
                <!-- 底部空白区域 -->
                <div class="h-24 bg-gray-100"></div>
            </div>
            
            <!-- 标签页 -->
            <div id="tag-page" class="page-content hidden">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h1 class="text-2xl font-bold">标签管理</h1>
                        <button id="add-tag-modal-btn" class="btn-icon text-primary">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                    
                    <!-- 标签列表 -->
                    <div id="tag-list" class="space-y-3">
                        <!-- 标签项 -->
                        <div class="tag-item flex items-center justify-between p-3 bg-gray-50 rounded-lg card-hover">
                            <div class="flex items-center">
                                <div class="w-3 h-3 rounded-full bg-blue-500 mr-3"></div>
                                <span class="font-medium">读书笔记</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-xs text-gray-500 mr-4">使用 5 次</span>
                                <button class="text-gray-400 mr-2">
                                    <i class="fa fa-edit"></i>
                                </button>
                                <button class="text-gray-400">
                                    <i class="fa fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="tag-item flex items-center justify-between p-3 bg-gray-50 rounded-lg card-hover">
                            <div class="flex items-center">
                                <div class="w-3 h-3 rounded-full bg-purple-500 mr-3"></div>
                                <span class="font-medium">名言</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-xs text-gray-500 mr-4">使用 3 次</span>
                                <button class="text-gray-400 mr-2">
                                    <i class="fa fa-edit"></i>
                                </button>
                                <button class="text-gray-400">
                                    <i class="fa fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 底部空白区域 -->
                <div class="h-24 bg-gray-100"></div>
            </div>
            
            <!-- 设置页 -->
            <div id="settings-page" class="page-content hidden">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h1 class="text-2xl font-bold">设置</h1>
                    </div>
                    
                    <!-- 设置选项 -->
                    <div class="space-y-6">
                        <!-- UI风格设置 -->
                        <div>
                            <h2 class="text-sm font-medium text-gray-700 mb-3">UI风格</h2>
                            <div class="grid grid-cols-3 gap-3">
                                <button class="style-btn flex flex-col items-center p-3 active">
                                    <div class="w-full h-16 bg-gray-100 rounded mb-2"></div>
                                    <span class="text-xs font-medium">简约</span>
                                </button>
                                <button class="style-btn flex flex-col items-center p-3">
                                    <div class="w-full h-16 bg-amber-50 rounded mb-2"></div>
                                    <span class="text-xs font-medium">文艺</span>
                                </button>
                                <button class="style-btn flex flex-col items-center p-3">
                                    <div class="w-full h-16 bg-gray-900 rounded mb-2"></div>
                                    <span class="text-xs font-medium">暗黑</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- 数据管理 -->
                        <div>
                            <h2 class="text-sm font-medium text-gray-700 mb-3">数据管理</h2>
                            <div class="space-y-2">
                                <button class="btn-secondary w-full flex items-center justify-between">
                                    <span class="text-gray-700">导出数据</span>
                                    <i class="fa fa-arrow-right text-gray-400"></i>
                                </button>
                                <button class="btn-secondary w-full flex items-center justify-between">
                                    <span class="text-gray-700">导入数据</span>
                                    <i class="fa fa-arrow-right text-gray-400"></i>
                                </button>
                                <button class="btn-danger w-full flex items-center justify-between">
                                    <span>清除数据</span>
                                    <i class="fa fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- 关于 -->
                        <div>
                            <h2 class="text-sm font-medium text-gray-700 mb-3">关于</h2>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <span class="text-gray-700">版本</span>
                                    <span class="text-gray-500">1.0.0</span>
                                </div>
                                <a href="https://space.bilibili.com/397844590?spm_id_from=333.788.upinfo.head.click" target="_blank" rel="noopener noreferrer" class="flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                                    <span class="text-gray-700">开发者</span>
                                    <span class="text-gray-500">B站UP量化结构设计</span>
                                </a>
                                <a href="https://www.bilibili.com/video/BV1sTF4zYEGs/?vd_source=46380badf9529b45b601c7f415c527f9" target="_blank" rel="noopener noreferrer" class="flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                                    <span class="text-gray-700">软件介绍</span>
                                    <i class="fa fa-external-link text-gray-500"></i>
                                </a>
                            </div>
                        </div>
                        
                        <!-- 数据存储提示 -->
                        <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <div class="flex items-start">
                                <i class="fa fa-info-circle text-yellow-500 mt-0.5 mr-2"></i>
                                <p class="text-sm text-yellow-800">
                                    提示：本应用的数据目前都存储在本地，清除浏览器数据会导致应用中的数据丢失。建议通过导入导出功能进行数据备份。
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 底部空白区域 -->
                <div class="h-24 bg-gray-100"></div>
            </div>
    </div>
    
    <!-- 底部导航栏 -->
    <div class="fixed bottom-0 left-0 right-0 flex items-center justify-around bg-white border-t border-gray-200 shadow-md z-100 h-20">
        <button class="nav-btn flex flex-col items-center justify-center active" data-page="home-page">
            <i class="fa fa-home text-xl"></i>
            <span class="text-xs mt-1">首页</span>
        </button>
        <button class="nav-btn flex flex-col items-center justify-center" data-page="create-page">
            <i class="fa fa-plus-circle text-xl"></i>
            <span class="text-xs mt-1">创建</span>
        </button>
        <button class="nav-btn flex flex-col items-center justify-center" data-page="tag-page">
            <i class="fa fa-tags text-xl"></i>
            <span class="text-xs mt-1">标签</span>
        </button>
        <button class="nav-btn flex flex-col items-center justify-center" data-page="settings-page">
            <i class="fa fa-cog text-xl"></i>
            <span class="text-xs mt-1">设置</span>
        </button>
    </div>
    
    <!-- 添加标签模态框 -->
    <div id="add-tag-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-4/5 max-w-sm">
            <h3 class="text-lg font-bold mb-4">添加标签</h3>
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-1">标签名称</label>
                <input type="text" id="new-tag-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary">
            </div>
            <div class="flex justify-end space-x-3">
                <button id="cancel-add-tag" class="modal-btn">
                    取消
                </button>
                <button id="confirm-add-tag" class="modal-btn primary">
                    确定
                </button>
            </div>
        </div>
    </div>
    
    <!-- 编辑标签模态框 -->
    <div id="edit-tag-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-4/5 max-w-sm">
            <h3 class="text-lg font-bold mb-4">编辑标签</h3>
            <input type="hidden" id="edit-tag-id">
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-1">标签名称</label>
                <input type="text" id="edit-tag-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary">
            </div>
            <div class="flex justify-end space-x-3">
                <button id="cancel-edit-tag" class="modal-btn">
                    取消
                </button>
                <button id="confirm-edit-tag" class="modal-btn primary">
                    确定
                </button>
            </div>
        </div>
    </div>
    
    <!-- 加载提示 -->
    <div id="loading" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 flex flex-col items-center">
            <div class="w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mb-3"></div>
            <span class="text-sm text-gray-700">处理中...</span>
        </div>
    </div>
    
    <!-- 成功提示 -->
    <div id="success-toast" class="fixed top-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 hidden">
        操作成功
    </div>
    
    <!-- 错误提示 -->
    <div id="error-toast" class="fixed top-20 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 hidden">
        操作失败
    </div>
    
    <!-- 图片来源选择模态框 -->
    <div id="image-source-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-4/5 max-w-sm">
            <h3 class="text-lg font-bold mb-4 text-center">选择图片来源</h3>
            <div class="space-y-3">
                <button id="take-photo-btn" class="w-full py-3 border border-gray-300 rounded-lg flex items-center justify-center hover:bg-gray-50 transition">
                    <i class="fa fa-camera mr-3 text-xl text-gray-600"></i>
                    <span>拍照</span>
                </button>
                <button id="choose-file-btn" class="w-full py-3 border border-gray-300 rounded-lg flex items-center justify-center hover:bg-gray-50 transition">
                    <i class="fa fa-file-image-o mr-3 text-xl text-gray-600"></i>
                    <span>从相册/文件选择</span>
                </button>
            </div>
            <button id="cancel-image-source" class="w-full mt-4 py-2 text-gray-500 hover:text-gray-700 transition">
                取消
            </button>
        </div>
    </div>
    
    <!-- 导出方式选择模态框 -->
    <div id="export-method-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-4/5 max-w-sm">
            <h3 class="text-lg font-bold mb-4 text-center">选择导出方式</h3>
            <div class="space-y-3">
                <button id="export-file-btn" class="w-full py-3 border border-gray-300 rounded-lg flex items-center justify-center hover:bg-gray-50 transition">
                    <i class="fa fa-file-text-o mr-3 text-xl text-gray-600"></i>
                    <span>导出为 JSON 文件</span>
                </button>
                <button id="export-text-btn" class="w-full py-3 border border-gray-300 rounded-lg flex items-center justify-center hover:bg-gray-50 transition">
                    <i class="fa fa-copy mr-3 text-xl text-gray-600"></i>
                    <span>文本框复制</span>
                </button>
            </div>
            <button id="cancel-export-method" class="w-full mt-4 py-2 text-gray-500 hover:text-gray-700 transition">
                取消
            </button>
        </div>
    </div>
    
    <!-- 导入方式选择模态框 -->
    <div id="import-method-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-4/5 max-w-sm">
            <h3 class="text-lg font-bold mb-4 text-center">选择导入方式</h3>
            <div class="space-y-3">
                <button id="import-file-btn" class="w-full py-3 border border-gray-300 rounded-lg flex items-center justify-center hover:bg-gray-50 transition">
                    <i class="fa fa-file-text-o mr-3 text-xl text-gray-600"></i>
                    <span>从 JSON 文件导入</span>
                </button>
                <button id="import-text-btn" class="w-full py-3 border border-gray-300 rounded-lg flex items-center justify-center hover:bg-gray-50 transition">
                    <i class="fa fa-paste mr-3 text-xl text-gray-600"></i>
                    <span>文本框粘贴</span>
                </button>
            </div>
            <button id="cancel-import-method" class="w-full mt-4 py-2 text-gray-500 hover:text-gray-700 transition">
                取消
            </button>
        </div>
    </div>
    
    <!-- 相机拍照模态框 -->
    <div id="camera-modal" class="fixed inset-0 bg-black flex flex-col items-center justify-center z-50 hidden">
        <div class="w-full h-full relative">
            <video id="camera-video" autoplay playsinline class="w-full h-full object-cover"></video>
            <canvas id="camera-canvas" class="hidden"></canvas>
            
            <div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent">
                <div class="flex justify-center items-center space-x-6">
                    <button id="cancel-camera-btn" class="w-14 h-14 rounded-full bg-white/20 flex items-center justify-center text-white hover:bg-white/30 transition">
                        <i class="fa fa-times text-xl"></i>
                    </button>
                    <button id="capture-btn" class="w-20 h-20 rounded-full bg-white flex items-center justify-center hover:scale-105 transition">
                        <div class="w-16 h-16 rounded-full border-4 border-gray-300"></div>
                    </button>
                    <button id="switch-camera-btn" class="w-14 h-14 rounded-full bg-white/20 flex items-center justify-center text-white hover:bg-white/30 transition">
                        <i class="fa fa-refresh text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 引入JavaScript文件 -->
    <script src="scripts/storage.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/image-editor.js"></script>
    <script src="scripts/ocr.js"></script>
    <script src="scripts/ai-ocr.js"></script>
    <script src="scripts/bookmark.js"></script>
    <script src="scripts/tag.js"></script>
    <script src="scripts/share.js"></script>
</body>
</html>