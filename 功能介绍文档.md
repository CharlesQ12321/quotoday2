# 每日一签 (Quotoday) 功能介绍文档

## 1. 项目概述

每日一签是一款专为读书爱好者设计的Web应用，旨在帮助用户轻松创建、管理和分享书籍中的精彩片段。通过AI文字识别技术，用户可以快速将纸质书籍中的内容转化为电子书签，并通过精美的设计模板生成可分享的图片。

**核心价值**：
- 简化书签创建流程，从拍照到保存只需几步
- 智能识别纸质书籍内容，减少手动输入
- 提供美观的书签设计模板，增强分享体验
- 强大的书签管理功能，方便查找和整理

## 2. 主要功能

### 2.1 智能文字识别

**功能描述**：通过拍照或上传图片，自动识别图片中的文字内容，支持多种字体和排版格式。

**技术实现**：
- 使用GLM-4.6V API进行AI文字识别
- 支持图片预览和重新选择
- 实时显示识别进度和状态
- 提供文字编辑功能，可手动修正识别结果

**使用流程**：
1. 点击"创建"按钮进入创建页面
2. 点击"选择图片"按钮拍照或上传图片
3. 调整虚线框选择文字的有效区域
4. 点击"确认区域"按钮完成裁剪
5. 系统自动进行文字识别
6. 查看并编辑识别结果

### 2.2 图片编辑

**功能描述**：对上传的图片进行裁剪编辑，选择有效的文字区域，以提高识别准确度。

**技术实现**：
- 使用Canvas API进行图片处理
- 支持实时预览编辑效果
- 支持鼠标和触摸操作
- 提供直观的裁剪框和调整手柄

**编辑功能**：
- **裁剪功能**：通过拖动虚线框选择有效区域，支持调整大小和位置
- **调整手柄**：四个角的调整手柄，方便精确调整裁剪区域
- **拖拽功能**：支持拖动裁剪框到图片的任意位置
- **边界限制**：裁剪框不会超出图片边界

**使用流程**：
1. 上传图片后，系统自动显示图片预览和裁剪框
2. 拖动虚线框调整裁剪区域大小和位置
3. 使用四角的调整手柄进行精确调整
4. 点击"确认区域"按钮完成裁剪
5. 系统自动进行文字识别
6. 如需重新选择图片，点击"重新选择"按钮

### 2.3 书签编辑

**功能描述**：编辑书签的详细信息，包括书名、作者、页码、内容、备注和标签。

**主要字段**：
- 书名：书籍的名称
- 作者：书籍的作者
- 页码：书签所在的页码
- 内容：书签的文字内容
- 备注：添加个人感悟或备注
- 标签：为书签添加分类标签

**编辑功能**：
- 支持实时保存编辑内容
- 标签管理：添加、删除标签
- 表单验证：确保必填字段完整

### 2.4 书签设计

**功能描述**：为书签选择设计模板，调整字体大小和行间距，生成美观的书签图片。

**设计模板**：
- 简约：简洁明了的设计风格
- 文艺：带有纸张纹理的复古风格
- 现代：渐变色背景的现代风格

**自定义选项**：
- 字体大小：12px-24px可调节
- 行间距：1.2-2.0可调节

**预览功能**：
- 实时预览书签设计效果
- 支持返回编辑修改内容

### 2.5 书签管理

**功能描述**：查看、搜索、过滤和管理已保存的书签。

**管理功能**：
- 书签列表：按时间顺序显示所有书签
- 搜索功能：支持按内容、书名、作者和标签搜索
- 标签过滤：通过标签快速筛选书签
- 书签详情：查看书签的详细信息
- 编辑功能：修改已保存的书签
- 删除功能：删除不需要的书签

**排序方式**：
- 默认按创建时间倒序排列（最新的在前）

### 2.6 标签管理

**功能描述**：创建、编辑和删除书签标签，方便对书签进行分类管理。

**标签功能**：
- 创建标签：自定义标签名称和颜色
- 标签使用统计：显示每个标签的使用次数
- 编辑标签：修改标签名称和颜色
- 删除标签：移除不需要的标签

**标签应用**：
- 书签创建时可添加多个标签
- 支持通过标签过滤和搜索书签

### 2.7 数据导入导出

**功能描述**：支持将书签数据导出为JSON文件，以及从JSON文件导入数据。

**导出功能**：
- 导出所有书签和标签数据
- 生成带有时间戳的备份文件
- 支持下载到本地保存

**导入功能**：
- 支持导入之前导出的JSON文件
- 自动合并现有数据
- 导入后自动刷新书签和标签列表

### 2.8 书签分享

**功能描述**：将书签生成为图片并分享到其他平台。

**分享方式**：
- 生成PNG格式的书签图片
- 支持使用系统分享功能分享
- 支持下载图片到本地

**分享内容**：
- 包含书签的完整信息（书名、作者、内容、页码、日期）
- 使用选定的设计模板和样式

## 3. 技术实现

### 3.1 前端技术栈

- **HTML5**：页面结构和语义化标签
- **CSS3**：样式设计和动画效果
- **JavaScript (ES6+)**：交互逻辑和功能实现
- **外部库**：
  - html2canvas.min.js：用于生成书签图片

### 3.2 AI文字识别

- **API**：使用GLM-4.6V API进行文字识别
- **实现方式**：
  1. 将图片转换为Base64格式
  2. 构建API请求并发送到GLM-4.6V
  3. 处理API响应并提取识别结果
  4. 对识别结果进行后处理，修正常见错误

### 3.3 数据存储

- **存储方式**：使用localStorage进行本地存储
- **存储结构**：
  - 书签数据：包含id、书名、作者、内容、标签等信息
  - 标签数据：包含id、名称、颜色等信息
  - 设置数据：包含用户偏好设置

### 3.4 性能优化

- **图片处理**：限制图片大小，避免API请求失败
- **异步操作**：使用async/await处理异步请求
- **防抖处理**：搜索输入使用防抖，减少不必要的搜索操作
- **状态管理**：实时更新应用状态，提供良好的用户反馈

## 4. 使用指南

### 4.1 快速开始

1. **打开应用**：在浏览器中打开 `index.html` 文件
2. **创建书签**：点击底部导航栏的"创建"按钮
3. **上传图片**：拍照或选择包含文字的图片
4. **裁剪区域**：调整虚线框选择文字的有效区域，点击"确认区域"按钮
5. **编辑信息**：填写书名、作者、页码等信息
6. **设计书签**：选择模板，调整样式
7. **保存书签**：点击"保存书签"按钮完成创建

### 4.2 管理书签

1. **查看书签**：在首页浏览所有书签
2. **搜索书签**：使用顶部搜索栏搜索特定内容
3. **过滤书签**：点击标签按钮过滤相关书签
4. **查看详情**：点击书签查看详细信息
5. **编辑书签**：在详情页点击"编辑"按钮修改信息
6. **删除书签**：在详情页点击"删除"按钮移除书签

### 4.3 管理标签

1. **进入标签页**：点击底部导航栏的"标签"按钮
2. **创建标签**：输入标签名称和选择颜色，点击"创建"按钮
3. **编辑标签**：点击标签的"编辑"按钮修改信息
4. **删除标签**：点击标签的"删除"按钮移除标签

### 4.4 数据备份

1. **导出数据**：进入"设置"页面，点击"导出JSON"按钮
2. **导入数据**：进入"设置"页面，点击"导入JSON"按钮，选择备份文件
3. **清除数据**：进入"设置"页面，点击"清除"按钮（谨慎操作）

## 5. 功能亮点

### 5.1 AI智能识别

- **高精度识别**：使用先进的GLM-4.6V模型，识别准确率高
- **多格式支持**：支持不同字体、大小和排版的文字
- **实时反馈**：显示详细的识别进度和状态信息
- **智能修正**：自动修正常见的字符识别错误

### 5.2 精美设计模板

- **多样化选择**：提供简约、文艺、现代三种风格模板
- **自定义选项**：可调整字体大小和行间距
- **实时预览**：所见即所得的设计预览
- **高质量输出**：生成清晰美观的PNG图片

### 5.3 强大的管理功能

- **智能搜索**：支持多维度搜索（内容、书名、作者、标签）
- **标签系统**：灵活的标签管理和过滤功能
- **数据可视化**：标签使用统计和存储大小显示
- **数据安全**：本地存储确保数据安全，支持备份和恢复

### 5.4 优秀的用户体验

- **响应式设计**：适配不同屏幕尺寸
- **流畅动画**：页面切换和操作有平滑的动画效果
- **直观界面**：简洁明了的操作界面
- **实时反馈**：操作结果有及时的提示和反馈

## 6. 应用场景

### 6.1 阅读笔记

- **场景**：阅读纸质书籍时，遇到精彩片段
- **使用方式**：拍照识别内容，添加到书签，记录感悟
- **价值**：快速保存阅读心得，避免遗漏重要内容

### 6.2 学习资料整理

- **场景**：学习过程中，需要整理重点内容
- **使用方式**：识别教材内容，添加标签分类，方便复习
- **价值**：系统化整理学习资料，提高学习效率

### 6.3 内容分享

- **场景**：发现精彩内容，想分享给朋友
- **使用方式**：创建书签，选择美观模板，生成图片分享
- **价值**：提升分享体验，增加内容传播效果

### 6.4 个人知识库

- **场景**：长期积累阅读内容，构建个人知识体系
- **使用方式**：持续添加书签，使用搜索和标签管理
- **价值**：形成个人知识储备，方便随时查阅

## 7. 技术限制与未来规划

### 7.1 当前限制

- **网络依赖**：文字识别功能需要联网使用
- **存储限制**：使用localStorage存储，有容量限制
- **浏览器兼容性**：某些功能可能在旧版浏览器中表现不佳
- **图片大小限制**：为保证识别效果，限制图片大小

### 7.2 未来规划

- **离线识别**：集成离线AI文字识别引擎，支持无网络环境使用
- **云存储**：添加云存储功能，实现多设备同步
- **社交功能**：增加用户社区，支持书签分享和互动
- **更多模板**：提供更多精美的书签设计模板
- **书籍管理**：增加书籍管理功能，关联书签和书籍
- **导出格式**：支持导出为PDF、Word等多种格式

## 8. 系统要求

### 8.1 浏览器要求

- **推荐浏览器**：Chrome、Firefox、Safari、Edge最新版本
- **最低要求**：支持ES6+的现代浏览器

### 8.2 硬件要求

- **设备**：支持拍照或上传图片的设备
- **网络**：稳定的网络连接（用于文字识别）
- **存储**：足够的本地存储空间

### 8.3 权限要求

- **相机权限**：使用拍照功能时需要
- **存储权限**：导出和导入文件时需要

## 9. 总结

每日一签是一款功能强大、用户友好的Web应用，通过结合AI技术和精美设计，为读书爱好者提供了全新的书签管理体验。无论是快速保存阅读心得，还是精心设计分享内容，每日一签都能满足用户的多样化需求。

随着功能的不断完善和技术的持续迭代，每日一签有望成为读书爱好者的必备工具，帮助更多人发现阅读的乐趣，记录知识的点滴。